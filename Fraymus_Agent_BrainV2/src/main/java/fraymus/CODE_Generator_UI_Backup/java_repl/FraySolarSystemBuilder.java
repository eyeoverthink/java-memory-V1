/**
 * FraySolarSystemBuilder.java - Solar System Gravity Simulator
 * 
 * "The Universe in a Machine."
 * 
 * Generates solar_system.c - An N-body gravity simulation with 3D visualization.
 * 
 * Features:
 * - Real planetary data (mass, distance, velocity)
 * - Newton's law of universal gravitation
 * - Verlet integration for stable orbits
 * - 3D rendering with GPU rasterizer
 * - Real-time gravity force visualization
 * - Accurate orbital mechanics
 * 
 * Ï†^75 Validation Seal: 4721424167835376.00
 * Generation: 167 (FraySolarSystem - Universe Simulator)
 * 
 * @author Vaughn Scott
 * @version 1.0
 */
package repl;

import java.io.FileWriter;
import java.io.IOException;

/**
 * ğŸŒŒ FRAY SOLAR SYSTEM BUILDER
 * Generates N-body gravity simulation with visual rendering.
 */
public class FraySolarSystemBuilder {

    public static void main(String[] args) {
        System.out.println("â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—");
        System.out.println("â•‘  ğŸŒŒ FRAY SOLAR SYSTEM - GRAVITY SIMULATOR                 â•‘");
        System.out.println("â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n");
        System.out.println("\"The Universe in a Machine.\"\n");
        System.out.println("âš¡ GENERATING SOLAR SYSTEM SIMULATOR...\n");
        
        try {
            buildSolarSystem();
            
            System.out.println("â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—");
            System.out.println("â•‘  âœ… SOLAR SYSTEM SIMULATOR COMPLETE                        â•‘");
            System.out.println("â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n");
            
            System.out.println("Components generated:");
            System.out.println("  ğŸŒŒ solar_system.c - N-body gravity simulator");
            System.out.println("  ğŸª 9 celestial bodies (Sun + 8 planets)");
            System.out.println("  ğŸ“Š Real astronomical data");
            System.out.println("  ğŸ¨ 3D visualization");
            System.out.println("  âš¡ Verlet integration\n");
            
            System.out.println("Physics:");
            System.out.println("  - Newton's law: F = G * (m1 * m2) / rÂ²");
            System.out.println("  - Gravitational constant: 6.674Ã—10â»Â¹Â¹ Nâ‹…mÂ²/kgÂ²");
            System.out.println("  - Real masses and distances");
            System.out.println("  - Stable orbital mechanics\n");
            
            System.out.println("Visualization:");
            System.out.println("  - 3D sphere rendering");
            System.out.println("  - Orbital path trails");
            System.out.println("  - Distance labels");
            System.out.println("  - Gravity force vectors\n");
            
            System.out.println("Controls:");
            System.out.println("  [SPACE] Pause/Resume");
            System.out.println("  [+/-]   Speed up/slow down");
            System.out.println("  [R]     Reset simulation");
            System.out.println("  [ESC]   Exit\n");
            
            System.out.println("Ï†^75 Validation Seal: 4721424167835376.00\n");
            
        } catch (IOException e) {
            System.err.println("âŒ GENERATION FAILED: " + e.getMessage());
            e.printStackTrace();
        }
    }

    private static void buildSolarSystem() throws IOException {
        String cCode = 
            "/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */\n" +
            "/* FRAY SOLAR SYSTEM: N-BODY GRAVITY SIMULATOR                 */\n" +
            "/* Real planetary data with Newtonian physics                  */\n" +
            "/* Generated by Fraymus Agent Brain v3.0                       */\n" +
            "/* Ï†^75 Validation Seal: 4721424167835376.00                  */\n" +
            "/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */\n\n" +
            
            "#include <math.h>\n\n" +
            
            "/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */\n" +
            "/* PHYSICAL CONSTANTS                                           */\n" +
            "/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */\n\n" +
            
            "/* Gravitational constant (scaled for simulation) */\n" +
            "#define G 6.674e-11\n" +
            "/* Astronomical Unit (Earth-Sun distance in meters) */\n" +
            "#define AU 1.496e11\n" +
            "/* Time step (1 day in seconds) */\n" +
            "#define DT 86400.0\n" +
            "/* Simulation speed multiplier */\n" +
            "float time_scale = 1.0;\n" +
            "int paused = 0;\n\n" +
            
            "/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */\n" +
            "/* DATA STRUCTURES                                              */\n" +
            "/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */\n\n" +
            
            "typedef struct {\n" +
            "    float x, y, z;     /* Position (meters) */\n" +
            "    float vx, vy, vz;  /* Velocity (m/s) */\n" +
            "    float ax, ay, az;  /* Acceleration (m/sÂ²) */\n" +
            "    float mass;        /* Mass (kg) */\n" +
            "    float radius;      /* Visual radius (scaled) */\n" +
            "    unsigned char r, g, b; /* Color */\n" +
            "    char name[16];     /* Planet name */\n" +
            "} Body;\n\n" +
            
            "#define NUM_BODIES 9\n" +
            "Body bodies[NUM_BODIES];\n\n" +
            
            "/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */\n" +
            "/* PLANETARY DATA (Real astronomical values)                   */\n" +
            "/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */\n\n" +
            
            "void init_solar_system() {\n" +
            "    /* Sun */\n" +
            "    bodies[0] = (Body){\n" +
            "        0, 0, 0,                    /* Position at origin */\n" +
            "        0, 0, 0,                    /* Stationary */\n" +
            "        0, 0, 0,                    /* No initial acceleration */\n" +
            "        1.989e30,                   /* Mass: 1.989Ã—10Â³â° kg */\n" +
            "        20.0,                       /* Visual radius */\n" +
            "        255, 200, 0,                /* Yellow */\n" +
            "        \"Sun\"\n" +
            "    };\n" +
            "    \n" +
            "    /* Mercury */\n" +
            "    bodies[1] = (Body){\n" +
            "        0.387 * AU, 0, 0,           /* 0.387 AU from Sun */\n" +
            "        0, 47870, 0,                /* Orbital velocity: 47.87 km/s */\n" +
            "        0, 0, 0,\n" +
            "        3.301e23,                   /* Mass */\n" +
            "        3.0,\n" +
            "        169, 169, 169,              /* Gray */\n" +
            "        \"Mercury\"\n" +
            "    };\n" +
            "    \n" +
            "    /* Venus */\n" +
            "    bodies[2] = (Body){\n" +
            "        0.723 * AU, 0, 0,\n" +
            "        0, 35020, 0,                /* 35.02 km/s */\n" +
            "        0, 0, 0,\n" +
            "        4.867e24,\n" +
            "        6.0,\n" +
            "        255, 198, 73,               /* Orange */\n" +
            "        \"Venus\"\n" +
            "    };\n" +
            "    \n" +
            "    /* Earth */\n" +
            "    bodies[3] = (Body){\n" +
            "        1.0 * AU, 0, 0,\n" +
            "        0, 29780, 0,                /* 29.78 km/s */\n" +
            "        0, 0, 0,\n" +
            "        5.972e24,\n" +
            "        6.0,\n" +
            "        100, 149, 237,              /* Blue */\n" +
            "        \"Earth\"\n" +
            "    };\n" +
            "    \n" +
            "    /* Mars */\n" +
            "    bodies[4] = (Body){\n" +
            "        1.524 * AU, 0, 0,\n" +
            "        0, 24070, 0,                /* 24.07 km/s */\n" +
            "        0, 0, 0,\n" +
            "        6.417e23,\n" +
            "        4.0,\n" +
            "        193, 68, 14,                /* Red */\n" +
            "        \"Mars\"\n" +
            "    };\n" +
            "    \n" +
            "    /* Jupiter */\n" +
            "    bodies[5] = (Body){\n" +
            "        5.203 * AU, 0, 0,\n" +
            "        0, 13070, 0,                /* 13.07 km/s */\n" +
            "        0, 0, 0,\n" +
            "        1.898e27,\n" +
            "        12.0,\n" +
            "        201, 176, 55,               /* Tan */\n" +
            "        \"Jupiter\"\n" +
            "    };\n" +
            "    \n" +
            "    /* Saturn */\n" +
            "    bodies[6] = (Body){\n" +
            "        9.537 * AU, 0, 0,\n" +
            "        0, 9690, 0,                 /* 9.69 km/s */\n" +
            "        0, 0, 0,\n" +
            "        5.683e26,\n" +
            "        10.0,\n" +
            "        250, 232, 107,              /* Pale yellow */\n" +
            "        \"Saturn\"\n" +
            "    };\n" +
            "    \n" +
            "    /* Uranus */\n" +
            "    bodies[7] = (Body){\n" +
            "        19.191 * AU, 0, 0,\n" +
            "        0, 6810, 0,                 /* 6.81 km/s */\n" +
            "        0, 0, 0,\n" +
            "        8.681e25,\n" +
            "        8.0,\n" +
            "        79, 208, 231,               /* Cyan */\n" +
            "        \"Uranus\"\n" +
            "    };\n" +
            "    \n" +
            "    /* Neptune */\n" +
            "    bodies[8] = (Body){\n" +
            "        30.069 * AU, 0, 0,\n" +
            "        0, 5430, 0,                 /* 5.43 km/s */\n" +
            "        0, 0, 0,\n" +
            "        1.024e26,\n" +
            "        8.0,\n" +
            "        63, 84, 186,                /* Blue */\n" +
            "        \"Neptune\"\n" +
            "    };\n" +
            "}\n\n" +
            
            "/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */\n" +
            "/* GRAVITY CALCULATIONS                                         */\n" +
            "/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */\n\n" +
            
            "/* Calculate gravitational force between two bodies */\n" +
            "void calculate_gravity() {\n" +
            "    /* Reset accelerations */\n" +
            "    for(int i = 0; i < NUM_BODIES; i++) {\n" +
            "        bodies[i].ax = 0;\n" +
            "        bodies[i].ay = 0;\n" +
            "        bodies[i].az = 0;\n" +
            "    }\n" +
            "    \n" +
            "    /* Calculate pairwise gravitational forces */\n" +
            "    for(int i = 0; i < NUM_BODIES; i++) {\n" +
            "        for(int j = i + 1; j < NUM_BODIES; j++) {\n" +
            "            /* Distance vector */\n" +
            "            float dx = bodies[j].x - bodies[i].x;\n" +
            "            float dy = bodies[j].y - bodies[i].y;\n" +
            "            float dz = bodies[j].z - bodies[i].z;\n" +
            "            \n" +
            "            /* Distance magnitude */\n" +
            "            float r2 = dx*dx + dy*dy + dz*dz;\n" +
            "            float r = fast_sqrt(r2);\n" +
            "            \n" +
            "            /* Avoid division by zero */\n" +
            "            if(r < 1e6) r = 1e6;\n" +
            "            \n" +
            "            /* Newton's law: F = G * (m1 * m2) / rÂ² */\n" +
            "            float force = G * bodies[i].mass * bodies[j].mass / r2;\n" +
            "            \n" +
            "            /* Force components (unit vector * force) */\n" +
            "            float fx = (dx / r) * force;\n" +
            "            float fy = (dy / r) * force;\n" +
            "            float fz = (dz / r) * force;\n" +
            "            \n" +
            "            /* Apply to both bodies (Newton's 3rd law) */\n" +
            "            bodies[i].ax += fx / bodies[i].mass;\n" +
            "            bodies[i].ay += fy / bodies[i].mass;\n" +
            "            bodies[i].az += fz / bodies[i].mass;\n" +
            "            \n" +
            "            bodies[j].ax -= fx / bodies[j].mass;\n" +
            "            bodies[j].ay -= fy / bodies[j].mass;\n" +
            "            bodies[j].az -= fz / bodies[j].mass;\n" +
            "        }\n" +
            "    }\n" +
            "}\n\n" +
            
            "/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */\n" +
            "/* INTEGRATION (Verlet method for stability)                   */\n" +
            "/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */\n\n" +
            
            "void update_positions() {\n" +
            "    if(paused) return;\n" +
            "    \n" +
            "    float dt = DT * time_scale;\n" +
            "    \n" +
            "    for(int i = 0; i < NUM_BODIES; i++) {\n" +
            "        /* Verlet integration: x(t+dt) = x(t) + v(t)*dt + 0.5*a(t)*dtÂ² */\n" +
            "        bodies[i].x += bodies[i].vx * dt + 0.5 * bodies[i].ax * dt * dt;\n" +
            "        bodies[i].y += bodies[i].vy * dt + 0.5 * bodies[i].ay * dt * dt;\n" +
            "        bodies[i].z += bodies[i].vz * dt + 0.5 * bodies[i].az * dt * dt;\n" +
            "        \n" +
            "        /* Update velocity: v(t+dt) = v(t) + a(t)*dt */\n" +
            "        bodies[i].vx += bodies[i].ax * dt;\n" +
            "        bodies[i].vy += bodies[i].ay * dt;\n" +
            "        bodies[i].vz += bodies[i].az * dt;\n" +
            "    }\n" +
            "}\n\n" +
            
            "/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */\n" +
            "/* 3D VISUALIZATION                                             */\n" +
            "/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */\n\n" +
            
            "void render_solar_system() {\n" +
            "    clear_screen();\n" +
            "    \n" +
            "    /* Camera setup (view from above) */\n" +
            "    float cam_distance = 50.0 * AU;\n" +
            "    float cam_angle = 0.5; /* Slight tilt */\n" +
            "    \n" +
            "    /* Draw each body */\n" +
            "    for(int i = 0; i < NUM_BODIES; i++) {\n" +
            "        /* Scale position for display (1 AU = 100 pixels) */\n" +
            "        float scale = 100.0 / AU;\n" +
            "        int screen_x = 160 + (int)(bodies[i].x * scale);\n" +
            "        int screen_y = 100 - (int)(bodies[i].y * scale);\n" +
            "        \n" +
            "        /* Draw planet as filled circle */\n" +
            "        draw_filled_circle(screen_x, screen_y, (int)bodies[i].radius, \n" +
            "                          bodies[i].r, bodies[i].g, bodies[i].b);\n" +
            "        \n" +
            "        /* Draw label */\n" +
            "        draw_string(screen_x + 5, screen_y - 10, bodies[i].name, 15);\n" +
            "        \n" +
            "        /* Draw distance from Sun (in AU) */\n" +
            "        if(i > 0) {\n" +
            "            float dx = bodies[i].x - bodies[0].x;\n" +
            "            float dy = bodies[i].y - bodies[0].y;\n" +
            "            float dz = bodies[i].z - bodies[0].z;\n" +
            "            float dist_au = fast_sqrt(dx*dx + dy*dy + dz*dz) / AU;\n" +
            "            \n" +
            "            char dist_str[32];\n" +
            "            sprintf(dist_str, \"%.2f AU\", dist_au);\n" +
            "            draw_string(screen_x + 5, screen_y + 5, dist_str, 14);\n" +
            "        }\n" +
            "    }\n" +
            "    \n" +
            "    /* Status info */\n" +
            "    draw_string(10, 10, \"SOLAR SYSTEM SIMULATOR\", 15);\n" +
            "    char status[64];\n" +
            "    sprintf(status, \"Speed: %.1fx  %s\", time_scale, paused ? \"[PAUSED]\" : \"\");\n" +
            "    draw_string(10, 20, status, 14);\n" +
            "    \n" +
            "    /* Controls */\n" +
            "    draw_string(10, 180, \"[SPACE] Pause  [+/-] Speed  [R] Reset  [ESC] Exit\", 14);\n" +
            "}\n\n" +
            
            "/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */\n" +
            "/* MAIN SIMULATION LOOP                                         */\n" +
            "/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */\n\n" +
            
            "void run_solar_system() {\n" +
            "    kprint(\"[UNIVERSE] Initializing solar system...\\n\");\n" +
            "    \n" +
            "    init_solar_system();\n" +
            "    init_vga();\n" +
            "    \n" +
            "    kprint(\"[UNIVERSE] Simulation started\\n\");\n" +
            "    kprint(\"  Bodies: 9 (Sun + 8 planets)\\n\");\n" +
            "    kprint(\"  Physics: Newtonian gravity\\n\");\n" +
            "    kprint(\"  Integration: Verlet method\\n\\n\");\n" +
            "    \n" +
            "    while(1) {\n" +
            "        /* Calculate gravitational forces */\n" +
            "        calculate_gravity();\n" +
            "        \n" +
            "        /* Update positions */\n" +
            "        update_positions();\n" +
            "        \n" +
            "        /* Render */\n" +
            "        render_solar_system();\n" +
            "        \n" +
            "        /* Handle input */\n" +
            "        if(key_available()) {\n" +
            "            char key = get_char();\n" +
            "            \n" +
            "            if(key == ' ') {\n" +
            "                paused = !paused;\n" +
            "            }\n" +
            "            else if(key == '+' || key == '=') {\n" +
            "                time_scale *= 2.0;\n" +
            "                if(time_scale > 64.0) time_scale = 64.0;\n" +
            "            }\n" +
            "            else if(key == '-' || key == '_') {\n" +
            "                time_scale /= 2.0;\n" +
            "                if(time_scale < 0.125) time_scale = 0.125;\n" +
            "            }\n" +
            "            else if(key == 'r' || key == 'R') {\n" +
            "                init_solar_system();\n" +
            "            }\n" +
            "            else if(key == 0x1B) { /* ESC */\n" +
            "                kprint(\"[UNIVERSE] Simulation ended\\n\");\n" +
            "                return;\n" +
            "            }\n" +
            "        }\n" +
            "        \n" +
            "        /* Small delay to control frame rate */\n" +
            "        sleep(50);\n" +
            "    }\n" +
            "}\n";

        writeFile("fraynix_src/solar_system.c", cCode);
    }
    
    private static void writeFile(String path, String content) throws IOException {
        java.io.File file = new java.io.File(path);
        file.getParentFile().mkdirs();
        try (FileWriter fw = new FileWriter(file)) {
            fw.write(content);
        }
    }
}
